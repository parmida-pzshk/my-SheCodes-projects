<!DOCTYPE html>
<html>
  <head>
    <title>Weather App</title>
    <meta charset="UTF-8" />
    <link href="src/stylew5.css"  rel="stylesheet"/>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <script
      src="https://kit.fontawesome.com/24462debb2.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>
  
  </head>

  <body>
    <div class="page container-fluid">
    
      <div class="container text-center">
  <div class=" row align-items-start">
      <div class="col-8">
      <form class="form-inline">
        <div class="form-group">
          <input
            type="text"
            id="inputCity"
            class="form-control mx-sm-3"
            aria-describedby="passwordHelpInline"
            placeholder="Search for your city!"
            autofocus
          />
        </div>
      </form>
      </div>
      
      <div class="col-2">
        <button type="button" class="btn btn-primary" >Search</button>
      </div>
  </div>
      </div>
  <div class="container text-center">
  <div class="main row align-items-center">
      <div class="col-8">
        <div class="row name">Tehran</div>
          <div class="row description">clear sky</div>  
          <div class="row icon"><img id="img" src="http://openweathermap.org/img/wn/01n@2x.png" class="icon"></div>
      </div>
      <div class="col-2">
        <div class="row number">23</div>
        <div class="row wind">23</div>
        
      </div>
  </div>
  </div>
    </br>
    
  </br>
  <h4>Last updated: <span class="day">monday</span> <span class="hour">30</span> : <span class="minute">29</span></h4>
</br>
<p class="dedication">This <a href="https://github.com/parmida-pzshk/my-SheCodes-projects" class="github" target="_blank">open-source code</a> was developed by Bogoloo and is dedicated to Mogolooo</p>
<img src="src/nik.jpg" class="nik">

          
        </div>
    
      <script >
        let now = new Date();
let day = document.querySelector(".day");
let days = [
  "Sunday",
  "Monday",
  "Tuesday",
  "Wednesday",
  "Thursday",
  "Friday",
  "Saturday",
];
day.innerHTML = days[now.getDay()];
let hour = document.querySelector(".hour");
hour.innerHTML = now.getHours();
let minute = document.querySelector(".minute");
minute.innerHTML = now.getMinutes();

        let name = document.querySelector(".name");
        let tempe = document.querySelector(".number");
        let wind = document.querySelector(".wind");
        let description = document.querySelector(".description")
        let icon = document.querySelector(".icon")
        let imgDiv = document.getElementById( "img" ); // access the image using id

function searchCity(event) {
  event.preventDefault();
  let input = document.querySelector("#inputCity");
  let editedInput = input.value.charAt(0).toUpperCase() + input.value.slice(1);
  name.innerHTML = editedInput;
  let apiKey = "b95f179627c8dd37f41e1be6e3250e19";
  let apiRes = `https://api.openweathermap.org/data/2.5/weather?q=${input.value}&appid=${apiKey}&units=metric`;

  function temp(response) {
    let currTemp = Math.round(response.data.main.temp);
    console.log(response.data)
    let tempe = document.querySelector(".number");
    let wind = document.querySelector(".wind");
    tempe.innerHTML = currTemp;
    let currWind = Math.round(response.data.wind.speed);
    wind.innerHTML = currWind;
    description.innerHTML = response.data.weather[0].description;
    let iconNew = response.data.weather[0].icon 
    
    console.log(iconNew)
    let imgDiv = document.getElementById( "img" ); // access the image using id
    imgDiv.src = `http://openweathermap.org/img/wn/${iconNew}@2x.png`
  }

  function getTemp() {
    axios.get(apiRes).then(temp);
  }

  getTemp();
}
function noFunc (eventr) {
  eventr.preventDefault();
}
let form = document.querySelector(".btn");
form.addEventListener("click", searchCity);
let formMain = document.querySelector(".form-inline")
formMain.addEventListener("submit", noFunc)

      </script>
    
  </body>
</html>
